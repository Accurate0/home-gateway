name: Upload config
on:
  push:
    branches:
      - main
    paths:
      - config.yaml
      - .github/workflows/upload-config.yml
  workflow_dispatch:

jobs:
  upload:
    permissions:
      id-token: write

    uses: Accurate0/workflows/.github/workflows/upload-object.yaml@main
    with:
      namespace: home-gateway
      object-name: config.yaml
      file: config.yaml
